@echo off
setlocal enabledelayedexpansion
cd /d "C:\users\user\church-donation-system\public\icons"

echo ==================================================
echo 교회헌금관리시스템 아이콘 파일명 완전 정리
echo ==================================================
echo.

REM === 밝은 테마 아이콘 (coms_b) 정리 ===
echo [밝은 테마 아이콘 정리]
echo --------------------------------------------------

REM 표준 크기로 변경
if exist "coms_b-16x16.png" echo coms_b-16x16.png [OK]
if exist "coms_b-20.png" ren "coms_b-20.png" "coms_b-20x20.png"
if exist "coms_b-29.png" ren "coms_b-29.png" "coms_b-29x29.png"
if exist "coms_b-32.png" ren "coms_b-32.png" "coms_b-32x32.png"
if exist "coms_b-40.png" ren "coms_b-40.png" "coms_b-40x40.png"
if exist "coms_b-44x44-72.png" ren "coms_b-44x44-72.png" "coms_b-44x44.png"
if exist "coms_b-48-48.png" ren "coms_b-48-48.png" "coms_b-48x48.png"
if exist "coms_b-50.png" ren "coms_b-50.png" "coms_b-50x50.png"
if exist "coms_b-57.png" ren "coms_b-57.png" "coms_b-57x57.png"
if exist "coms_b-58.png" ren "coms_b-58.png" "coms_b-58x58.png"
if exist "coms_b-60.png" ren "coms_b-60.png" "coms_b-60x60.png"
if exist "coms_b-64.png" ren "coms_b-64.png" "coms_b-64x64.png"
if exist "coms_b-72.png" ren "coms_b-72.png" "coms_b-72x72.png"
if exist "coms_b-72-72.png" del "coms_b-72-72.png"
if exist "coms_b-76.png" ren "coms_b-76.png" "coms_b-76x76.png"
if exist "coms_b-80.png" ren "coms_b-80.png" "coms_b-80x80.png"
if exist "coms_b-87.png" ren "coms_b-87.png" "coms_b-87x87.png"
if exist "coms_b-96-96.png" ren "coms_b-96-96.png" "coms_b-96x96.png"
if exist "coms_b-100.png" ren "coms_b-100.png" "coms_b-100x100.png"
if exist "coms_b-114.png" ren "coms_b-114.png" "coms_b-114x114.png"
if exist "coms_b-120.png" ren "coms_b-120.png" "coms_b-120x120.png"
if exist "coms_b-128.png" ren "coms_b-128.png" "coms_b-128x128.png"
if exist "coms_b-144.png" ren "coms_b-144.png" "coms_b-144x144.png"
if exist "coms_b-144-144.png" del "coms_b-144-144.png"
if exist "coms_b-150x150-100.png" ren "coms_b-150x150-100.png" "coms_b-150x150.png"
if exist "coms_b-150x150-150.png" del "coms_b-150x150-150.png"
if exist "coms_b-152.png" ren "coms_b-152.png" "coms_b-152x152.png"
if exist "coms_b-167.png" ren "coms_b-167.png" "coms_b-167x167.png"
if exist "coms_b-180.png" ren "coms_b-180.png" "coms_b-180x180.png"
if exist "coms_b-192.png" ren "coms_b-192.png" "coms_b-192x192.png"
if exist "coms_b-192-192.png" del "coms_b-192-192.png"
if exist "coms_b-256.png" ren "coms_b-256.png" "coms_b-256x256.png"
if exist "coms_b-310x150-100.png" ren "coms_b-310x150-100.png" "coms_b-310x310.png"
if exist "coms_b-512.png" ren "coms_b-512.png" "coms_b-512x512.png"
if exist "coms_b-512-512.png" del "coms_b-512-512.png"
if exist "coms_b-1024.png" ren "coms_b-1024.png" "coms_b-1024x1024.png"

echo.
echo [다크 테마 아이콘 정리]
echo --------------------------------------------------

REM 표준 크기로 변경
if exist "coms_d-16x16.png" echo coms_d-16x16.png [OK]
if exist "coms_d-20.png" ren "coms_d-20.png" "coms_d-20x20.png"
if exist "coms_d-29.png" ren "coms_d-29.png" "coms_d-29x29.png"
if exist "coms_d-32.png" ren "coms_d-32.png" "coms_d-32x32.png"
if exist "coms_d-40.png" ren "coms_d-40.png" "coms_d-40x40.png"
if exist "coms_d-44x44-72.png" ren "coms_d-44x44-72.png" "coms_d-44x44.png"
if exist "coms_d-48-48.png" ren "coms_d-48-48.png" "coms_d-48x48.png"
if exist "coms_d-50.png" ren "coms_d-50.png" "coms_d-50x50.png"
if exist "coms_d-57.png" ren "coms_d-57.png" "coms_d-57x57.png"
if exist "coms_d-58.png" ren "coms_d-58.png" "coms_d-58x58.png"
if exist "coms_d-60.png" ren "coms_d-60.png" "coms_d-60x60.png"
if exist "coms_d-64.png" ren "coms_d-64.png" "coms_d-64x64.png"
if exist "coms_d-72.png" ren "coms_d-72.png" "coms_d-72x72.png"
if exist "coms_d-72-72.png" del "coms_d-72-72.png"
if exist "coms_d-76.png" ren "coms_d-76.png" "coms_d-76x76.png"
if exist "coms_d-80.png" ren "coms_d-80.png" "coms_d-80x80.png"
if exist "coms_d-87.png" ren "coms_d-87.png" "coms_d-87x87.png"
if exist "coms_d-96-96.png" ren "coms_d-96-96.png" "coms_d-96x96.png"
if exist "coms_d-100.png" ren "coms_d-100.png" "coms_d-100x100.png"
if exist "coms_d-114.png" ren "coms_d-114.png" "coms_d-114x114.png"
if exist "coms_d-120.png" ren "coms_d-120.png" "coms_d-120x120.png"
if exist "coms_d-128.png" ren "coms_d-128.png" "coms_d-128x128.png"
if exist "coms_d-144.png" ren "coms_d-144.png" "coms_d-144x144.png"
if exist "coms_d-144-144.png" del "coms_d-144-144.png"
if exist "coms_d-150x150-100.png" ren "coms_d-150x150-100.png" "coms_d-150x150.png"
if exist "coms_d-150x150-125.png" del "coms_d-150x150-125.png"
if exist "coms_d-152.png" ren "coms_d-152.png" "coms_d-152x152.png"
if exist "coms_d-167.png" ren "coms_d-167.png" "coms_d-167x167.png"
if exist "coms_d-180.png" ren "coms_d-180.png" "coms_d-180x180.png"
if exist "coms_d-192.png" ren "coms_d-192.png" "coms_d-192x192.png"
if exist "coms_d-192-192.png" del "coms_d-192-192.png"
if exist "coms_d-256.png" ren "coms_d-256.png" "coms_d-256x256.png"
if exist "coms_d-310x150-100.png" ren "coms_d-310x150-100.png" "coms_d-310x310.png"
if exist "coms_d-512.png" ren "coms_d-512.png" "coms_d-512x512.png"
if exist "coms_d-512-512.png" del "coms_d-512-512.png"
if exist "coms_d-1024.png" ren "coms_d-1024.png" "coms_d-1024x1024.png"

echo.
echo ==================================================
echo [384x384 아이콘 생성]
echo ==================================================
echo.

REM 384x384 아이콘이 없으면 512x512에서 복사
if not exist "coms_b-384x384.png" (
    if exist "coms_b-512x512.png" (
        copy "coms_b-512x512.png" "coms_b-384x384.png"
        echo coms_b-384x384.png 생성 완료 (512x512에서 복사)
    )
)

if not exist "coms_d-384x384.png" (
    if exist "coms_d-512x512.png" (
        copy "coms_d-512x512.png" "coms_d-384x384.png"
        echo coms_d-384x384.png 생성 완료 (512x512에서 복사)
    )
)

echo.
echo ==================================================
echo [PWA 필수 아이콘 확인]
echo ==================================================
echo.

set REQUIRED_SIZES=72x72 96x96 128x128 144x144 152x152 192x192 384x384 512x512

echo PWA 필수 아이콘 체크:
echo.

for %%s in (%REQUIRED_SIZES%) do (
    if exist "coms_b-%%s.png" (
        echo [O] coms_b-%%s.png
    ) else (
        echo [X] coms_b-%%s.png - 누락!
    )
    if exist "coms_d-%%s.png" (
        echo [O] coms_d-%%s.png
    ) else (
        echo [X] coms_d-%%s.png - 누락!
    )
    echo.
)

echo ==================================================
echo 파일명 정리 완료!
echo ==================================================
echo.
echo 다음 단계:
echo 1. 브라우저 캐시 초기화
echo 2. Service Worker 버전 업데이트
echo 3. 사이트 새로고침
echo.
pause